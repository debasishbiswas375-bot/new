{% extends "admin/base_site.html" %}

{% block content %}

<h2>ðŸ“Š Dashboard Overview</h2>

<div style="display:flex; gap:20px; margin-bottom:30px;">
    <div class="card" style="padding:20px; flex:1; background:#1e293b; color:white;">
        <h3>Total Users</h3>
        <h1>{{ total_users }}</h1>
    </div>
    <div class="card" style="padding:20px; flex:1; background:#2563eb; color:white;">
        <h3>Total Plans</h3>
        <h1>{{ total_plans }}</h1>
    </div>
    <div class="card" style="padding:20px; flex:1; background:#16a34a; color:white;">
        <h3>Total Profiles</h3>
        <h1>{{ total_profiles }}</h1>
    </div>
</div>

<div style="display:flex; gap:20px; margin-bottom:30px;">
    <div style="flex:1; background:#f1f5f9; padding:20px;">
        <h4>Users Today: {{ users_today }}</h4>
        <h4>This Week: {{ users_week }}</h4>
        <h4>This Month: {{ users_month }}</h4>
    </div>
</div>

<canvas id="myChart"></canvas>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    const ctx = document.getElementById('myChart');

    new Chart(ctx, {
        type: 'line',
        data: {
            labels: {{ chart_labels|safe }},
            datasets: [{
                label: 'New Users (Last 7 Days)',
                data: {{ chart_data|safe }},
                borderWidth: 2,
                fill: true
            }]
        },
    });
</script>

{% endblock %}
